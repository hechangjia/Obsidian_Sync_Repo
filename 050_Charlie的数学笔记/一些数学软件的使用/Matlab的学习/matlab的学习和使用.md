#matlab  #软件学习 #计算机 

# 第五章:MATLAB符号计算 
### 本章概述
**符号常量,==符号变量==,符号表达式,符号矩阵的建立,,符号表达式的代数运算,符号表达式的操作与转换,符号极限,符号积分,符号微分,符号级数的求解,符号方程的求解**

## 符号表达式的建立
#### 原则
#####  1. 先定义再使用

##### 2. 符号常量是不含变量的符号表达式

### 创建符号常量
语法:
1. $str2sym=('常量')$

举例说明:
```matlab
x=sin(pi);  %输出结果不是0,而是一个极小的数
x=str2sym('sin(pi)')  %输出的就是一个准确的数字0
%函数 `str2sym` 可以将字符串转换为符号变量或符号表达式。那么此时就不会被 pi 一个数字近似替换
%而是一个符号变量,这样就准确计算
```

2. $sym(常量,参数)$ 也可以把数值转换为某种格式的符号变量  注意,此时常量上没有    ==''==  ,而参数上有  **''**
```matlab
y=str2sym('sin(2)')  %第一种格式
y=sin(sin(2))    %第二种格式,默认为  *r*
y=sin(sin(2),'d')
```

* d:返回最接近的十进制数值
* f:返回该符号最接近的浮点表达式
* r:返回该符号值最接近的有理数型   **系统默认格式**
* e:带浮点误差的有理数值

### 创建符号常量和表达式

#### 使用 $sym$创建单个符号变量和表达式
#### 使用 $syms$创建多个符号变量,表达式
##### 语法
1. $sym \quad变量 \quad 参数$  %%其中参数可以是real positive 
2. $sym('表达式')$
3. $syms\quad 变量1\quad 变量2 \quad变量3\cdots$ 
4. $syms('arg1','arg2','arg3',\cdots)$ %%把字符变量定义为符号变量

### 创建符号矩阵
```matlab
A=str2sym('[a b;c d]')
syms a b c d
B=[a b;c d]
```

## 符号表达式的代数运算
#### 符号运算和数值运算的区别
1. 受到计算机存储的限制,数值运算采用计算机提供的8位浮点表示法,会有一定的截断误差,而符号运算不需要显示数值,不会出现截断误差,因此符号运算是十分准确的.
2. 符号运算可以得出完全的封闭解和任意进度的数值解
3. 符号运算速度相较于数值运算较慢

#### 任意精度控制
```matlab
digits(n)   %设定全局默认的静度,计算机默认进度为32  global
%or
vpa(表达式s,n)  %将s输出n位有效数字  local
```

```matlab
digits  %%默认值为32,输出也是32
digits(64)   %%将全局默认精度改为64
vpa(s)    %%输出64位精度
vpa(s,613)   %%强制输出613位有效数字
```

#### 符号表达式的化简
1. 合并同类项   $collect$
```matlab
%%语法
R=collect(s)  %%对多项式s按默认独立变量降幂排列
R=collect(s,v)  %%对指定变量v进行合并操作
```
2. 表达展开式 $expand$
	$R=expand(s)$
3. 因式分解 $factor$
	$R=factor(s)$  %%s可以是正整数,符号矩阵
4. <span style="color:rgb(0, 0, 0)"></span>嵌套($hornor$)
#### 符号表达式的转换 $sym2poly$和 $poly2sym$
==构成多项式的符号表达式与其对应的行向量相互转换==
1. 使用 $sym2poly$  符号表达式转换为行向量
```matlab
f=str2sym('x^3+6*x^2+11*x-6')
S=sym2poly(f)  %%转换为按降幂排列的行向量
%%只能对含有一个变量的符号表达式进行转换
%%sym2poly(a*x^2+b*x+c)  程序会报错
```
2. 使用 $poly2sym$ Charlie的数学笔记/一些数学软件的使用/行向量转换为符号表达式.md|行向量转换为符号表达式
```matlab
p=[4 3 2 -1]
y=poly2sym(p)
%%输出结果为4*x^3+3*x^2+2*x-1
```
#### [[提取分子分母|提取分子分母]]

## 符号极限.微积分和级数求和
### 符号极限
#### 一元函数的极限 🙂函数:$limit$

 [[limit函数的用法]]


**$NaN:Not \quad a \quad Number$

#### 多元函数的极限(主要是二元函数的极限)
**转换为重极限**
```matlab
g=limit(f,x,x_0)
limit(g,y,y_0)
%%or
limit(limit(f,x,x_0),y,y_0)
%%三重及以上也是类似的做法,关键在于能否转换为累次极限
```
### 符号微分:$diff$

[[diff函数]]

#### 说明
1. $diff$函数也可以用于对符号矩阵求导,这时会对矩阵的每一个元素进行求导
2. $diff$也可以对多元函数求微分,和 $limit$使用方法类似

### 符号积分
[[int函数的用法]]
与[[#一元函数的极限 🙂函数 $limit$]]和[[#符号微分 $diff$]]一样可以对符号矩阵的每一个元素运算

### 符号级数
#### 语法
$symsum(s,x,a,b)$ %%s为符号表达式,x为求和对象,a为求和下限,b为求和上限

### $taylor$级数
#### 语法
$taylor(f,x,n)$ f为函数表达式,x为自变量,n为展开项数,默认为5,默认在 $x_0=0$ 处展开
$tarlor(f,x,n,a)$f为函数表达式,x为自变量,n为展开项数,默认为5,在 $x_0=a$处展开

## 符号方程的求解
### 代数方程及方程组
#### 语法
$solve('f','x')$ f 中可以有=,也可以没有=,但是以"f=0"来进行计算的
[x,y,z]=solve('f_1','f_2','f_3')  %求解符号方程组的解

## 符号常微分方程的解
**Matlab提供了 $dsolve$ 命令来对符号常微分方程进行求解**

### 语法
$dsolve('f','f(x_0)','x')$ %% f为微分方程,$f(x_0)$为初始条件,x为指定变量
$dsolve('f_1,f_2,f_3,\cdots','f(x_0),f(x_1),f(x_2),\cdots','x_1,x_2,x_3,\cdots')$   %%   $f_1,f_2,f_3,\cdots$  为微分方程组,$f(x_0),f(x_1),f(x_2),\cdots$为初始条件,  $x_1,x_2,x_3,\cdots$ 为指定变量


其中 ,微分方程表示==规定==:
y的一阶导数 $\Large{\frac{d f}{d x}}$ 或者 $\Large{\frac{d y}{dt}}$ 表示为 $Dy$ 
y的n阶导数 $\Large{\frac{d^ny}{dx^n}}$ 或 $\Large{\frac{d^ny}{dx^n}}$ 表示为Dny
[[微分符号在latex的编写]]

## 习题
[[IMG_20241103_081051.jpg|第五章习题]]


# 第六章图形与图像处理

## 二维图像处理

### $plot$图像绘图

#### 语法

1. $plot(y)$ 
	* y为实向量时,以y每个元素的下标为横坐标,对应元素值为纵坐标画图,类似于数列
	* y为复向量时,等价于 $plot(real(y),imag(y))$ 
	* y为实矩阵时,按列绘制曲线,和对应下标相对应,曲线条数等于列数
	* y为复数矩阵时,按列分别以对应元素的实部和虚部画图,
2. $plot(x,y)$ 
	* x,y为长度相等的一维向量时($vector$),分别以x,y的对应元素为横纵坐标画图
	* x为一维向量,y为矩阵时,若y中存在横or列的维数与x相同,则该维与x一一对应,曲线条数等于另一维的维数
	* $x,y$均为同维矩阵时,则以对应的列元素绘制曲线(转化为一维的情况),曲线条数等于行向量的维数
 [[Figure 2024-11-03 08_42_40.png|示例]]
```matlab
x=rand(5)
y=rand(5)
plot(x,y)
```
### $plot$绘图参数选择

[[Matlab中颜色,线型和标记符号|Matlab中颜色,线型和标记符号]]

参数要在同一个=='  '== 下

## 其他图形操作命令
### 调用函数 $axis$ 指定坐标轴的刻度
#### 语法
$axis([x_{min},x_{max},y_{min},y_{max}])$ 

### 调用函数 $xlabel('option'),ylabel('option'),zlabel('option')$
**为坐标轴加标注**

### 调用函数 $grid\quad  on$ 和 $grid\quad  off$ 添加或取消网格线

### 调用函数 $text(x,y,'description')$ 为指定坐标点添加描述

### 掉用 $legend('option')$ 添加图例

### 调用 $title('\textbf(title)')$ 添加标题


## 极坐标和复平面坐标绘图

### 极坐标绘图

调用格式
1. $plot(\theta,\rho)$ ,对应 极角 $\theta$ 和 极径 $\rho$ 
2. $plot(\theta,\rho,'option')$ ,可以选择线型
[[Matlab中颜色,线型和标记符号]]

### 示例
[[极坐标绘图.png]]
[[极坐标中使用参数.png]]
[[对极坐标图形进行旋转.png]]

[[使用 MATLAB 旋转和缩放极坐标]]

## 三维图形的绘制
###  调用 $plot3$ 函数绘制三维==曲线==图

+ $plot3(x,y,z)$
+ $plot3(x,y,z,'option')$ 
[[三维曲线.png]]

### 调用 $surf$ 来绘制三维==曲面==

#### 语法

1. $surf=(X,Y,Z)$ %%Z确定曲面的高度和颜色,按照X,Y形成的格点矩阵,创建三维曲面
%%X,Y可以是向量或矩阵,但当X,Y为向量是,必须满足 
$m=size(X),n=size(Y),[m,n]=size(Z)$

2. $surf=(X,Y,Z,C)$ Z确定曲面高度,C确定曲面颜色

[[三维球面.png]]

## 隐函数图形绘制 :调用函数 $ezplot(f)$[^f的说明] 
[^f的说明]:**f=f(x,y),y=y(x)**

[[隐函数图形.png]]

[[Matlab中的绘图函数]]

