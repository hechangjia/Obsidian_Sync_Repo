---
tags:
  - math
  - tool_idea
---
### 0 基本想法

> [!基本的想法]
> 当我们在估计一个和$\sum X$的时候，对其中每一项做估计$$Y'\leq X\leq Y''$$从而得到$$\sum Y'\leq \sum X\leq \sum Y''$$

* 其实不只是对于和，在同号的基础上，如果是乘积$\prod X$也是一样的，我们也可以对每一项进行估计，然后得到$$\prod Y'\leq \prod X\leq \prod Y''$$
比如：

> [!问题1]
> $a,b,c,d \in [1,2]$，证明$$|(a-b)(b-c)(c-d)(d-a)|\le\frac{abcd}{4}$$

平方以后我们实际上需要证明$$\frac{(a-b)^2}{ab}\frac{(b-c)^2}{bc}\frac{(c-d)^2}{cd}\frac{(d-a)^2}{da}\le\frac{1}{16}$$于是如果我们可以证明，任意的形如$\frac{(x-y)^2}{xy}\leq \frac{1}{2},x,y\in [1,2]$成立，问题就解决了，这就是对乘积的逐项估计的想法。

* 换成积分$\int X$也是一样，我们会得到$$\int Y'\leq \int X\leq \int Y''$$
### 1. 常见的用途和使用技巧
#### 1.1 需要一个由函数表示的上界

> [!基本想法]
> 如果我们需要给一个和，或者一个连续的乘积$S_n$一个函数表示的上界$U_n$，使得$$S_n\leq U_n$$对$n>M$都成立。那么我们其中一种主要的想法无非就是：
> 1. $S_n$是否可以本身就非常容易求乘积或者和，并且乘积或者和是对我们而言比较简单或者熟悉的形式？比如假设$S_n=H_n$是调和数，或者其他什么我们很熟悉的特殊函数，亦或者就是多项式等等。
> 2. 如果第一个做不到，我们的想法是，是否可以通过放缩得到一个$S_n'$使得$S_n'$与$S_n$之间的误差符合要求，同时$S_n'$具有一个简单或者熟悉的表达式。为了实现第二点，我们尝试对“和”或者“乘积”的每一项做放缩，并且保证放缩后的对象对我们而言是“好求和”的。

* [[部分积的上界估计与Gautschi不等式]]中：
  1. 此文章的1.2节当中对每一项$\log(1-\frac{1}{2n})$放大为$-\frac{1}{2n}$,而这些对象的和对我们来说是好处理的，因为这个新的和就是$H_N$:一个调和数。
  2. 此文章的2.1节当中，我们把目标$S_{N+1}$分解为其差分和，然后对其差分做逐项估计。为什么？因为我们是两边同时取差分，如果差分的不等式每一项都成立，那么左右两边的式子就是我们最终需要的不等式的左边和右边。
  3. 此文章的2.2节的做法，和2.1节基本一致，不过是把和变成了乘积罢了。
* [[自然底数e及其快速计算]]当中第一节的"命题1"当中我们需要证明$$1+\frac{1}{2!}+\cdots+\frac{1}{N!}<3$$对任意正整数$N$成立。于是根据基本的想法我们，需要对每一项找到一个上界，并且所有这些上界的和是“好求和”的。一个想法就是，制造一个Telescoping sum:$$a_n:=\frac{1}{n(n-1)\cdots 1}\leq \frac{1}{n(n-1)}$$因为Telescoping sum总是比较简单的。
* [[n个连续的阶乘之积有多少个因子]]当中我们需要给出数论函数$\log(D(n))$做出估计，误差精度要求是$o(n)$。在做了一番分析以后，我们得到$$\log(D(n))=\sum_{p\leq n}\log(E_p(n)+1)$$而其中$E_p(n)=\frac{n^2}{2(p-1)}+O(n)$。此时我们的一个比较自然的尝试就是对每一项做估计。因此我们得到$$\log(E_p(n)+1)=2\log(n)-\log(p-1)+O(1)$$那么真正要处理的部分就是$\log(p-1)$的和。这种对数的$p\leq n$的素数的部分和，对我们而言是较为熟悉的。因为这就是Chebyshev的theta函数，并且误差精度我们可以做到$o(n)$因此逐项估计算是可行的方案。

#### 1.2 对含参数部分和/积分求极限

这主要是求含参数的部分和的极限，因为如果和当中不带参数，那么部分和可以写成$T_n:=\sum_{k=0}^{n-1}f(k)$的形式，这个和的极限就是级数$\sum_{k\geq 0}f(k)$，这是一个求级数的closed form的表达问题，而不是对部分和的渐近估计问题。而真正需要做渐近估计的是，形如$$S_n=\sum_{k=0}^{n-1}f_n(k)$$的形式。而如果我们要求积分的话，我们相当于是要得到$$S_n=A+o(1)$$形式的渐近结果，也就是要求我们在做逐项估计的时候，需要保证每一项的误差经过求和的累积以后，不能超过$o(1)$。

注意使用逐项估计，然后把估计的结果求和的之前我们必须保证这种求和是合法的。

* [[从几个极限问题去理解Landau符号]]这里需要做渐近展开的对象$S_n:=\sum_{k\leq n}\sin(k/n^2)$就是一个典型的例子，这里我们是对被求和对象使用$\sin(x)$的Taylor展开$\sin(x)=x+o(x)$完成的。此外这篇笔记里面还有关于Landau符号对应的$\varepsilon-N-\delta$语言的命题的严格解释。我们可以看到这个渐近问题当中为了保证$\sin(x)$的高阶导数是有界的，这是一定的，因此这里无需考虑分段估计。
* [[收敛的连乘积的上界估计与糖水不等式]]当中第二节，我们通过Taylor展开结合其余项来得到合适于放缩的不等式。
* [[对一个含参数的和的估计以及控制收敛定理]]，第二个问题当中，我们对$$S_n:=\sum_{k=0}^{n-1}\left(1-\frac{k}{n}\right)^n$$求极限。我们想的是，利用Taylor展开得到逐项的估计$$\begin{aligned}f_n(k)&= e^{-k}+O\left(\frac{k^2}{e^kn}\right)\end{aligned}$$但是这里面有一个问题，这个过程中需要用到两次Taylor展开，我们需要保证$k$的取值在两次Taylor展开当中都能保证目标的高阶导数在展开的邻域当中是有界的。因为这样的要求，因此我们进行了分段估计,分为两段:$$I_1=\{0,...,\lfloor \sqrt{n}\rfloor-1\},I_2=\{\lfloor \sqrt{n}\rfloor,\cdots,n-1\}$$这样第一段能成立上面的渐近估计，并且可以求和，第二段不满足，不过也可以逐项估计，只不过做得更为粗糙而已，不过没有关系，后一段每一项衰减非常快速。
* [[对一个含参数的和的估计以及控制收敛定理2]]当中我们要求$$ S_n:=\sum_{k=1}^n \frac{5^{\frac{k}{n}}}{n+\frac{1}{k}}$$的极限。我们想要利用的逐项估计是$$f_n(k)=\frac{5^{k/n}}{n}\left(1-O\left(\frac{1}{nk}\right)\right)$$而这个逐项估计因为当$n$足够大的时候，$\frac{1}{nk}<1/2$,因此Taylor展开的一阶导数是有有界的，因此最后是可以求和的而不必像上面的例子一样进行分段估计。
#### 1.3 判断和/积分的收敛性

在1.2节中我们提到$$T_n:=\sum_{k=0}^{n-1}f(k)$$的形式的部分和，想要用逐项估计去求极限是没有任何可能的，但是用于判断级数是否收敛还是有一定的可能的。

##### 1.3.1 绝对收敛的判断

> [!想法1]
> 我们要判断一个级数是否绝对收敛，实际上我们就是要得到部分和$T_n=\sum_{k=0}^{n-1}|f(k)|$的精度要求为$O(1)$的估计，也就是说我需要知道$T_n$是否是有界的。如果我们打算用逐项估计来进行这件事，这就要求我们对于$|f(k)|$的估计的逐项误差$r_k$其部分和$\sum_{k=0}^{n-1}r_k=O(1)$才行。

* 假设我们需要判断$$\displaystyle{\prod_{p}}{\frac{1}{1-p^{-s}}},\text{Re}(s)>1$$的收敛性。我们可以首先把问题转换为和的估计问题，$$\prod_{p\leq x}{\frac{1}{1-p^{-s}}} = -\sum_{p\leq x} \log(1-p^{-s})$$然后利用$\log(1+y)=y+O(y^2)$的这个渐近结果，这个结果对于任意有界的$y$都是成立的因此$$\begin{aligned}-\sum_{p\leq x} \log(1-p^{-s})&=\sum_{p\leq x}p^{-s}+O\left(\sum_{p\leq x}p^{-2s}\right)\\&= O(1)\end{aligned}$$于是乘积在$Re(s)>1$的部分是绝对收敛的。
* [[Dirichlet核不是逼近单位元]]的问题中，我们需要证明$$\int_{0}^{\pi}\frac{\left|\sin\left((N+\frac{1}{2})t\right)\right|}{t}dt$$不是有界的。而鉴于这里的周期性，于是我们结合按照周期的分段，然后对每一段进行逐项估计。其中逐项估计的关键步骤是$\int_{0}^{\pi} \frac{\sin(s)}{k\pi +s}\,ds$这个对象我们对被积分对象的其中一部分做了渐近，而不是对全部做渐近，从而使得做积分以后结果会变得简单。此处$$\int_{0}^{\pi} \frac{\sin(s)}{k\pi +s}\,ds=\frac{2}{\pi k}+O\left(\frac{1}{k^2}\right),k>0$$前面指的简单就是此处，如果我们对$\frac{1}{k}$求和就会得到调和数，从而最终得到$$\int_{0}^{\pi}\frac{\left|\sin\left((N+\frac{1}{2})t\right)\right|}{t}dt=\frac{2}{\pi}\log(N)+O(1)$$的估计。

> [!想法2]
> 另一种想法是，如果我们可以给和$\sum_{k\geq 1} |f(k)|$的被求和对象$|f(k)|$一个$g(k)$的上界，并且级数$\sum_{k\geq 1}g(k)$的收敛性判断对我们而言是简单的或者已知的，并且判断结果是收敛的，那么我们就可以断定$\sum_{k\geq 1} |f(k)|$的收敛性。反过来如果需要证明并非绝对收敛，那么我们只需要找一个发散的下界组成的级数。
> * 积分同理。


* [[证明函数项级数几乎处处绝对收敛]]当中我们需要证明$$f(x):=\sum_{n\geq 1}\frac{|a_n|}{\sqrt{|x-r_n|}}$$几乎处处有限。而我们的思路是判断此函数在任意的长度为$1$的开区间$I$上的积分是否是绝对可积并利用[[和以及积分换序]]的手段，问题被转换为判断级数$$\sum_{n\geq 1} |a_n|\int_{I}\frac{1}{\sqrt{|x-r_n|}}\,dm(x)$$是否绝对收敛的问题。而我们的方法无非就是逐项估计积分$$\int_{I}\frac{1}{\sqrt{|x-r_n|}}\,dm(x)\leq 2\int_{0}^{1/2}\frac{1}{\sqrt{x}}\,dm(x)$$从而利用$\sum_{n\geq 1}|a_n|<\infty$的条件断定此级数一定是绝对收敛的，从而得到$f(x)$的几乎处处有限的性质。此处逐项估计的方法，还是遵从，放大以后的上界对我们而言要么是简单的，要么是熟悉的。此处$\frac{1}{\sqrt{x}}$的积分对我们而言就是简单的，并且也是熟悉的。

 
##### 1.3.2 一致收敛的判断

##### 1.3.3 交错级数收敛性判断





### 3. 执行逐项估计的技术
#### 3.1 逐项与分段估计结合

> [!动机的阐述]
> 设想一下我们要估计部分和$\sum_{n\leq N}f_N(n)$的上界，但是$[1,N]\cap \mathbb{Z}=E_1\cup E_2$而被求和对象$f_N(n)$在$E_1,E_2$上有着截然不同的行为。在这种情况下，我们如果贸然对$f_N(n)$做上界估计，比如$|f_N(n)|\leq g_N(n)$会导致两种情况:
> 1. 因为简单的$g_N(n)$很难同时捕捉$f_N(n)$在两个集合上不同的行为，导致$\sum_{n\leq N}f_N(n)$的上界估计$\sum_{n\leq N}g_N(n)$整体的误差太大以至于不能达到我们的预期。
> 2. 如果$g_N(n)$可以同时捕捉$f_N(n)$在两个集合上不同的行为，那么也就意味着$g_N(n)$不会太过于简单，这使得$\sum_{n\leq N}g_N(n)$的估计难度和$\sum_{n\leq N}f_N(n)$差不多。
> 
> 因此要解决这两个问题，要么不使用逐项估计而是用别的方法，要么先使用分段估计，然后针对每一段再使用逐项估计。
> * 当然也别忘记了[[分段估计的想法]]当中2节当中提到的可数分段，特别是估计和或者积分的对象当中涉及某种部分的周期性的时候。



下面是一些具体的例子：
* [[对误差的分析从而改进分段估计]]当中我们需要求$\lim_{n\to\infty}\frac{n+n^{1/2}+...+n^{1/n}}{n}$因此相当于要对$S_n:=\sum_{k\leq n}n^{1/k}$做渐近，要求精度为$o(n)$。而我们发现$n^{1/k}$在集合$[1,N]\cap \mathbb{Z}$上有明显不同的几段性质，于是我们打算先分段再逐项估计。比如说：$$\begin{aligned}S_n&=\sum_{k\in I_1}f_n(k)+\sum_{k\in I_2}f_n(k)+\sum_{k\in I_3}f_n(k)\\&=\sum_{1\leq k\leq2}n^{1/k}+\sum_{3\leq k\leq\lfloor\sqrt{n}\rfloor}n^{1/k}+\sum_{n\geq k>\lfloor\sqrt{n}\rfloor}n^{1/k}\\&\end{aligned}$$我们把和分为三段，从左往右：
   1. 第一段单个被求和对象对误差的贡献巨大，导致基本任何逐项放缩都会制造相对$o(n)$这样的目标来说影响巨大的误差。因此索性直接不做任何处理，原封不动。
   2. 第二段单个被求和对象对误差的贡献次之，允许我们做一些误差相对较大的逐项估计的操作，这里的估计是$$\sqrt{n}n^{1/\sqrt{n}}\leq n^{1/k}\leq \sqrt{n}n^{1/3}$$
   3. 第三段当中单个被求和对象对误差的贡献最小，但是别忘了，最后一段的集合尺寸却是最大的，因此在做逐项估计的过程中也要尽可能让上下界接近。这里的估计是$$n^{1/n}\leq n^{1/k}\leq n^{1/\sqrt{n}}$$
* [[用分段估计解决几个序列的极限问题]]，这里面的几个例子让我们看到，基本上一般我们是先决定做分段估计，然后在处理细节的时候再配合合适的逐项估计从而完成整个解答。
* [[Dirichlet核不是逼近单位元]]当中估计$$\int_{0}^{\pi}\frac{\left|\sin\left((N+\frac{1}{2})t\right)\right|}{t}dt$$的时候显然需要考虑到周期性的问题，因此这里的逐项估计必须建立在按照周期的自然分段的基础上。
* [[Stirling渐近公式及不等式]]第4节中我们需要得到关于$$\begin{aligned}R(n)&=-
\frac{1}{3}\int_{n}^{+\infty}B_{3}(\{t\})\frac{1}{t^3}<0\end{aligned}$$的不等式。被积分对象当中含有$\{t\}$这个周期为1的函数，于是我们的想法就是利用周期性进行自然分段，然后考虑逐项估计，看看是否和当中的每一项都是负的。
* [[对一个含参数的和的估计以及控制收敛定理]]当中1.4节当中，和上面的例子一样，我们需要证明Euler-Maclaurin求和公式的余项非负。那么因为余项当中其中一部分带有周期1的函数，我们考虑加强命题，通过周期的自然分段结合逐项估计，证明求和的每一项都是非负的。

#### 3.2 光滑函数的Taylor展开

> [!主要想法]
> 如果我们需要对部分和$\sum_{n\leq N}f\circ g_N(n)$做渐近展开，同时$f(x)$又是一个具有一定的光滑性的函数，那么我们可以利用其Taylor展开，比如当$|x|<\delta$的时候$$f(x)=a_0+a_1x+o(x)$$并且对任意的$n\leq N$都有$|g_N(n)|\to 0$,那么部分和的渐近展开就可以写作$$a_0N+a_1\sum_{n\leq N}g_N(n)+o\left(\sum_{n\leq N}g_N(n)\right)$$然后剩下的问题就是搞清楚$\sum_{n\leq N}g_N(n)$的估计。
> * 此外，通过对Taylor展开的具体的余项进行正负号的分析，我们可以从中导出不等式来，这对于一些需要求具体的上界或者下界的问题非常有用。

> [!需要注意的一个问题]
> 适用Taylor展开做逐项估计的时候，我们说的是函数$f(x)$在点$x=x_0$的邻域即某个$|x-x_0|<\delta$的时候，存在一个常数$C_{\delta}$使得$R_n(x):=f(x)-P_n(x)$满足$$|R_n(x)|\leq C_{\delta}|x-x_0|^{n+1}$$其中$P_n(x)$是一个$n$阶多项式。如果我们用Lagrange余项来表示这个$R_n(x)$那么$$|R_n(x)|=\left|\frac{f^{(n+1)}(\xi)}{(n+1)!}(x-x_0)^{n+1}\right|$$如果我们要保证$C_{\delta}$与$x$的选择没有任何关系，我们就必须要保证$\delta$的选取能够保证在此范围内的$x$都能够保证$x,x_0$之间的$\xi$使得$|f^{(n+1)}(\xi)|\leq M$。
> 
> 如果需要求和的所有$k$当中并非所有都能满足这一点要求，那么可以考虑使用分段估计，估计不满足这样的$k$对应的$f_n(k)$的和的估计是在目标精度以内的。

* [[从几个极限问题去理解Landau符号]]这里需要做渐近展开的对象$S_n:=\sum_{k\leq n}\sin(k/n^2)$就是一个典型的例子，这里我们是对被求和对象使用$\sin(x)$的Taylor展开$\sin(x)=x+o(x)$完成的。此外这篇笔记里面还有关于Landau符号对应的$\varepsilon-N-\delta$语言的命题的严格解释。我们可以看到这个渐近问题当中为了保证$\sin(x)$的高阶导数是有界的，这是一定的，因此这里无需考虑分段估计。
* [[收敛的连乘积的上界估计与糖水不等式]]当中第二节，我们通过Taylor展开结合其余项来得到合适于放缩的不等式。
* [[对一个含参数的和的估计以及控制收敛定理]]，第二个问题当中，我们对$$S_n:=\sum_{k=0}^{n-1}\left(1-\frac{k}{n}\right)^n$$求极限。我们想的是，利用Taylor展开得到逐项的估计$$\begin{aligned}f_n(k)&= e^{-k}+O\left(\frac{k^2}{e^kn}\right)\end{aligned}$$但是这里面有一个问题，这个过程中需要用到两次Taylor展开，我们需要保证$k$的取值在两次Taylor展开当中都能保证目标的高阶导数在展开的邻域当中是有界的。因为这样的要求，因此我们进行了分段估计,分为两段:$$I_1=\{0,...,\lfloor \sqrt{n}\rfloor-1\},I_2=\{\lfloor \sqrt{n}\rfloor,\cdots,n-1\}$$这样第一段能成立上面的渐近估计，并且可以求和，第二段不满足，不过也可以逐项估计，只不过做得更为粗糙而已，不过没有关系，后一段每一项衰减非常快速。
* [[对一个含参数的和的估计以及控制收敛定理2]]当中我们要求$$ S_n:=\sum_{k=1}^n \frac{5^{\frac{k}{n}}}{n+\frac{1}{k}}$$的极限。我们想要利用的逐项估计是$$f_n(k)=\frac{5^{k/n}}{n}\left(1-O\left(\frac{1}{nk}\right)\right)$$而这个逐项估计因为当$n$足够大的时候，$\frac{1}{nk}<1/2$,因此Taylor展开的一阶导数是有有界的，因此最后是可以求和的而不必像上面的例子一样进行分段估计。
* [[判断一个类交错级数的收敛性]]当中我们需要判断$$\sum_{n\geq 2}\frac{(-1)^n}{\sqrt{n}+(-1)^n}$$的收敛性。我们利用函数$\frac{1}{1+x}$的Taylor展开做逐项估计以后得到其部分和的估计$$S_N=\sum_{2\leq n\leq N}\frac{(-1)^n}{\sqrt{n}} -\sum_{2\leq n\leq N}\frac{1}{n}+O\left(\sum_{2\leq n\leq N}\frac{1}{n^{3/2}}\right)$$这样便很容易看出$S_N$实际上是无界的。
#### 3.2 连分数逼近

#### 3.3 从式子中分裂出telescoping sum
* [[自然底数e及其快速计算]]当中第一节的"命题1"当中我们需要证明$$1+\frac{1}{2!}+\cdots+\frac{1}{N!}<3$$对任意正整数$N$成立。于是根据基本的想法我们，需要对每一项找到一个上界，并且所有这些上界的和是“好求和”的。一个想法就是，制造一个Telescoping sum:$$a_n:=\frac{1}{n(n-1)\cdots 1}\leq \frac{1}{n(n-1)}$$因为Telescoping sum总是比较简单的。

### 4. 差的估计中的逐项估计

> [!基本想法]
> 当我们需要对形如$|(\sum X) - Y|$做估计的时候，逐项估计通常是不错的选择，因为直接整体对$Y$做估计通常会造成很大的误差，并且不能适配$\sum X$中$X$的变化，可是如果我们能把$Y$展开为一个和使得$Y=\sum Y'$那么$$|\sum X-Y|\leq \sum|X-Y'|$$然后对$\sum|X-Y'|$做分段估计+逐项估计等操作。(积分也是如此)

* [[IMC上的一个渐近分析的问题]]中我们需要对$$S_N=\frac{1}{N^2}\sum_{n\leq N} n\log(n)-\frac{1}{2}\log(N)$$做渐近估计。因为这显然是$\sum X - Y$的类型的估计。对于此问题的第一个做法就是使用上面的想法首先得到$$\begin{aligned}\frac{1}{2}\log(N)&=\frac{1}{N^2}\sum_{n\leq N}n\log(N)+O\left(\frac{\log(N)}{N}\right)\\&= \frac{1}{N^2}\sum_{n\leq N}n\log(N)+o(1)\end{aligned}$$然后我们就可以在和当中做逐项的更为精细的估计了。
* [[approximate identity]]当中基本每一个命题都用到了上面的想法。比如说估计$||f * K_{\lambda}-f||_{L^p}$要求精度是$o(1)$。那么利用$K_{\lambda}(x)$是逼近单位元的性质，实际上我们是对$$\int ||T_y\circ f-f||_{L^p}|K_{\lambda}(y)|\,dy$$做估计其中$T_y\circ f=f(x-y)$。当然后面还有别的手段，比如分段估计等等。
* [[柯西积分公式]]的证明当中，我们需要$$\left|f(a) - \frac{1}{2\pi i}\int_{\Gamma} \frac{f(z)}{z-a} dz\right| < \varepsilon  $$对任意的$\varepsilon$成立。为了误差的减少，我们把内容合并到一起，为逐项估计做准备，即估计$$\frac{1}{2\pi}\left|\int_{\Gamma}\frac{f(z)-f(a)}{z-a}\right|\,dz$$而我们注意到在局部，由于函数在$a$处可微，于是可以在余项上做文章，因为只要$z$靠近$a$足够近就有$$\left|\frac{f(z)-f(a)}{z-a}-f'(a)\right|\leq \varepsilon$$不过这个不等式只能在局部成立，未必在$\Gamma$包含的圆盘内成立。好在结合柯西定理，$\Gamma$与围绕$a$的半径任意小的圆周都是同伦的。于是问题等价于估计$\frac{1}{2\pi}\left|\int_{\gamma_{r}}\frac{f(z)-f(a)}{z-a}\right|\,dz$，而这个积分是局部的，利用三角不等式就完成了逐项估计。