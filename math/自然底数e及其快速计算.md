---
tags:
  - math
  - 微积分
---

> [!问题1]
> a. 证明序列$$S_N:=\sum_{n=0}^{N}\frac{1}{n!}$$存在极限。
> b. 假设$S_N\to e$，那么证明$$e=3-\sum_{n\geq 0}\frac{1}{(n+1)(n+2)(n+2)!}$$
> c. 由上面给出近似计算$S_N$的极限$e$的更高效的方式(误差分析)。

### 1. 极限的存在性与级数收敛判别

#### 1.1 从序列的极限分析问题a

序列$S_N$的表达式是一个和的形式，其中被求和的对象是序列$$a_n:=\frac{1}{n!}$$这是一个始终大于0的单调减少的序列。这意味着$S_{N+1}>S_N$的，也就是说序列$S_N$是一个严格单调的序列。那么根据处理[[用牛顿迭代法求算数平方根]]当中2.1，以及2.2当中问题2(练习4，解析见[[关于黄金比例数的迭代序列]])的处理经验，我们想到如果$S_N$是具有上界的序列，那么我们就可以使用单调有界原理证明极限的存在性。

那么序列$S_N$是否具有上界呢？我们可以先从图像上获得一个直观的印象。

![[自然底数e的级数表达.png]]

我们不难从直觉上认为，$S_N<3$。如果这个事情可以被严格证明，那么我们就完全可以通过单调有界原理来证明极限的存在性。于是我们当前的目标就是:

> [!命题1]
> 对任意的自然数$N$都成立不等式：$$S_N<3$$

我们现在的目标是任意给定的$N$找到和$$S_N=1+\frac{1}{2!}+\cdots+\frac{1}{N!}$$的一个上界。一个可以尝试的方法是，进行[[逐项估计]]。其基本思想可以参考[[逐项估计]]这个工具笔记当中的第一节中的"基本想法"。

那么根据这个想法，我们实际上是要放大$a_n:=\frac{1}{n!}$,从而得到一个我们已知的和，或者一个已知上界的和。观察到在$n>1$的时候有$$a_n:=\frac{1}{n(n-1)\cdots 1}\leq \frac{1}{n(n-1)}$$如果令$a_n'=\frac{1}{n(n-1)}$的话，这样能达到上面的逐项放缩的想法中的要求吗？其实是可以的，因为我们正是联想到$S_N':=\sum_{n=2}^{N}\frac{1}{n(n-1)}$是容易求和的，我们才会采取这样的放大方式。具体来说:

> [!命题2]
> $$S_N':=\sum_{n=2}^{N}\frac{1}{n(n-1)}<1$$

注意到$\frac{1}{n(n-1)}=\frac{1}{n-1}-\frac{1}{n}$,那么$$\begin{aligned}S_N'&=\sum_{n=2}^{N}\frac{1}{n(n-1)}\\&=\sum_{n=2}^{N}\frac{1}{n-1}-\frac{1}{n}\\&= 1-\frac{1}{N}<1\end{aligned}$$
* 实际上这个求和方法可以归纳为[[制造telescoping sum求和]]。也就是说，如果我们可以在做逐项放缩的时候使得放缩以后的结果$a_n'$当中具有相邻两项差的形式，那么$\sum_{n\leq N} a_n'$就一定是好求和的。也就是说，我们可以主动尝试找$a_n$的上界(下界)放缩中那些带有相邻两项差的形式。

那么由命题2，我们知道如果$N\geq 3$那么$$S_N<2+S_N'<3$$因此我们便证明了命题1。那么$S_N$就是一个单调增加并且具有上界的序列，那么由单调有界原理，$S_N$存在一个极限。如果我们假设$$S_N\to e$$那么根据上界的信息，我们可以确认这是一个大概是$2.73<e<3$的这样一个实数。

#### 1.2 级数的概念与级数收敛

问题1当中的b小问中出现了,一种表达$$\sum_{n\geq 0}\frac{1}{(n+1)(n+2)(n+2)!}$$这里的和是没有求和上限的，或者说求和上限是$+\infty$。这其实是一种极限的表达方式，也就是一个级数。

> [!级数的定义]
> 定义一个和式表达的序列$S_N:=\sum_{n=r}^{N}a_n$，我们可以用表达式$$\sum_{n=r}^{\infty}a_n$$来表示序列$\{S_N\}_{n=r}^{\infty}$。如果序列$S_N$的极限存在，即存在一个数$A$满足，对任意的$\varepsilon>0$存在一个正整数$N_{\varepsilon}$使得任意$N>N_{\varepsilon}$都有不等式$$\left|\sum_{n=r}^{N}a_n-A\right|<\varepsilon$$成立。那么此时，$\sum_{n=r}^{\infty}a_n$也可以表达序列$S_N$的极限，即写作$$\sum_{n=r}^{\infty}a_n=A$$此时我们说级数$\sum_{n=r}^{\infty}a_n$收敛到$A$。当然这个级数代表的序列$\{S_N\}_{n=r}^{\infty}$其极限也可能不存在，那么此时$\sum_{n=r}^{\infty}a_n$当然不能用于替代任何实数。

那么假设$T_N:=\sum_{n=0}^{N}\frac{1}{(n+1)(n+2)(n+2)!}$那么我们要证明等式$$e=3-\sum_{n\geq 0}\frac{1}{(n+1)(n+2)(n+2)!}$$实际上说的是$$\lim_{N\to \infty }3-T_N=\lim_{N\to \infty}S_N$$那么首先需要说明的是：

> [!命题3]
> 级数$$\sum_{n\geq 0}\frac{1}{(n+1)(n+2)(n+2)!}$$是收敛的，也就是说$T_N$的极限是存在的。

通过对问题1.a的分析，我们知道对于这种被求和对象都是非负的级数而言，其收敛性，或者具体来说其部分和$T_N$极限的存在性，主要依赖于是否具有一个有限的上界，而找到这样的一个上界的方法，可以使用逐项放缩。

那么如果我们考虑逐项放缩，我们期望$b_n:=\frac{1}{(n+1)(n+2)(n+2)!}$的上界$b_n'$是很好求和的，参考1.a的做法，最好$b_n'$是能够制造telescoping sum形式的对象。于是不难发现$$b_n<\frac{1}{(n+1)(n+2)}=b_n'$$于是$$\begin{aligned}T_N:=\sum_{n=0}^{N}b_n&<\sum_{n=0}^{N}b_n'\\&=\sum_{n=0}^{N}\frac{1}{n+1}-\frac{1}{n+2}\\&=1-\frac{1}{N+2}\\&<1\end{aligned}$$
于是按照单调有界原理，$T_N$存在极限，因此级数$\sum_{n\geq 0}\frac{1}{(n+1)(n+2)(n+2)!}$是收敛的。

于是接下来我们就需要考虑：

> [!命题4]
> $$\lim_{N\to \infty }3-T_N=\lim_{N\to \infty}S_N$$

注意到，下面的等式对于$N\geq 2$恒成立：

> [!命题5]
> 下面的等式对于$N\geq 2$恒成立：$$1+\frac{1}{1!}+\cdots+\frac{1}{N!}+\frac{1}{NN!}=3-\frac{1}{1\cdot 2\cdot 2!}-\cdots \frac{1}{(N-1)NN!}$$


* ***练习1***：命题5可以用归纳法证明，故留作习题。
* 命题5的结果实际上可以从对$e^z$的幂级数做一些积分的操作得到（后续会补充）。

从命题5的等式，我们可以两边取极限，从而得到$$3-T_{N-2}=S_N+\frac{1}{NN!}$$然后由极限的四则运算(参照[[用牛顿迭代法求算数平方根]]当中的2.2)，我们知道两边在极限各自存在的基础上，按照极限的四则运算其两边极限应当相等。

于是因为等式左边极限存在，等式右边$$\begin{aligned}\lim_{N\to \infty}\left(S_N+\frac{1}{NN!}\right)&=\lim_{N\to \infty}S_N+\lim_{N\to \infty}\frac{1}{NN!}\\&=e \end{aligned}$$
因此命题4成立。

**练习2***：这里我们在证明命题4的时候默认了$T_{N-2}$的极限与$T_N$的极限是相同的。

> [!命题6(练习2)]
> 序列如果极限存在的话，那么其子列的极限也存在并且和原来的序列的极限一致。

不过我们这里可以给何谓"子列"一个严格的形式化的定义，这样方便读者去用之列的概念并结合序列极限的形式化定义，完成对命题6的证明。

> [!序列的子列的定义]
> 1. 序列:所谓序列$\{a_n\}_{n\in\mathbb{N}}$是一个函数$$a:\mathbb{N}\to \mathbb{C}$$
> 2. $\{a_n\}_{n\in\mathbb{N}}$的子列$\{a_{n_k}\}_{k\in\mathbb{N}}$是从原来的序列当中选取若干元素构成的新的序列，其中$\{n_k\}_{k\in\mathbb{N}}$是一个严格单调增加的自然数集中的序列。

为了方便理解，我们这里举一些例子:

> [!例子1]
> 序列$a_n = n$,而$a_{2k}$就是原来序列的子列。相当于是从$1,2,\cdots n\cdots$当中挑选出偶数的元素，并按照在原来的序列$a_n$当中的顺序排列成的新的序列。此时的$n_k:=2k$，这是一个取值为自然数，并且严格单调增加的序列。

> [!例子2]
> 在本节的问题当中出现了序列$T_N:=\sum_{n=0}^{N}\frac{1}{(n+1)(n+2)(n+2)!}$,而$T_{N-2}$显然是其一个子列。按照子列的定义来表述，我们可以引入变量$N_k:=k-2$,从而得到子列$T_{N_k}$。


### 2. 误差分析与收加速

首先我们来分析$S_N\to e$的速度，然后我们考虑如何由命题4的结果来加速这个收敛的过程。

首先为什么我们关心收敛的速度？这是因为，当序列的极限是一个特别的值的时候，比如问题1当中初现的$e$，亦或者圆周率$\pi$。当我们给定误差上限的时候，我们想要通过序列的逼近这种手段得到一个在误差范围内的近似值的时候，我们总是希望我们计算量越小越好。在[[用牛顿迭代法求算数平方根]]这个问题当中我们已经有一些经验，知道要分析收敛的快慢，其实可以通过分析其绝对误差来实现。

所以现在我们的问题可以抽象为:

> [!问题2]
> 1. 分析绝对误差$$R_N:=|S_N-e|$$
> 2. 分析绝对误差$$R_N':=|3-T_N-e|$$
> 3. 对比两个绝对误差$R_N,R_N'$。

从上面的分析来看，我们知道$R_N,R_N'$都是收敛到0的序列。但是我们想要知道，当我们固定$N$的时候，谁会更加接近0，那个总是更加接近0的，或者说绝对误差更小的，就是收敛到$e$更快的序列。也就是说我们如果用更快的那个部分在给定的误差范围内计算$e$的近似值，我们的计算效率会相对更高一些。

#### 2.1 $R_N$的上界与下界估计

> [!命题7]
> 从定义上不难发现$$R_N=\sum_{n>N}\frac{1}{n!}$$那么我们断言，当$N$足够大的时候，存在常数$C_1,C_2$使得$$C_1\frac{1}{N!N}\leq R_N\leq C_2\frac{1}{N!N}$$记作$$R_N = \Theta\left(\frac{1}{N!N}\right)$$

那么这里分析这样的问题，这里我们会用到分析学当中的一个核心的想法，称之为[[an epsilon of room]]。这个想法比较宏大，这里我们只会用到其中的第二个版本的想法，总结为"把无限的问题转换为有限的问题去做定量的分析"。

 >[!该想法的版本2:把无穷问题转换为有限问题]
> 1. 如果要思考一个命题$S_{\infty}$，此命题涉及一个对象$x_{\infty}$。
> 2. 我们不妨去考虑一个更弱的命题$S_{N}$或者$S_h$，这个命题涉及一个对象$x_{N}$或者$x_h$,这是一个有限的且具体的问题。但是如果这个有限的问题，对于一定程度上任意的参数$N$或者$h$成立那么原来的命题被解决/证明。

具体来说$R_N$它的求和的上限是无穷，所以本质上来说$R_N$，当$N$固定的时候，代表的是一个收敛的，含有参数$N$的级数$R_N = \sum_{n=N+1}^{\infty}\frac{1}{n!}$那么为了给出$R_N$的一个上界和下界的估计，我们需要处理一个更为具体的，不包含无穷的一个问题。这里令$$R_{N,M}:=\sum_{n=N+1}^{M}\frac{1}{n!}$$那么显然$\lim_{M\to \infty}R_{N,M}=R_N$。不过我们处理$R_{N,M}$会比直接处理$R_N$要更为容易一些，因为很显然我们可以直接写出$R_{N,M}$这个和的每一项，从而方便我们做估计，比如执行逐项估计的手段。而在得到不等所以以后，我们再根据下面的命题8两边取极限，就可以得到关于$R_N$的不等式。

* **这种"把无穷问题转换为有限问题"的想法，贯穿整个分析学，几乎无处不在。**

> [!命题8(练习3)]
> 对于足够大的$n$,两个实的序列满足$$x_n\geq y_n$$并且两个序列的极限都存在，那么一定有$$\lim_{n\to \infty} x_n \geq \lim_{n\to \infty} y_n$$

所以现在的目标是对任意的足够大的$M>N$放缩$R_{N,M}$。这里首先观察到我们可以提取一个因子$$\begin{aligned}R_{N,M}&=\frac{1}{(N+1)!}\left(1+\frac{1}{N+2}+\frac{1}{(N+2)(N+3)}+\cdots +\frac{1}{M\cdots(N+2)}\right)\end{aligned}$$
写成这样的形式以后，下界就非常明显了，因为对于任意足够大的$M$括号里面的结果一定是大于等于1的，于是$$R_{N,M}\geq \frac{1}{(N+1)!}$$于是根据命题8，我们可以得到$$R_N\geq \frac{1}{(N+1)!}>\frac{1}{N!N}$$
反过来，我们可以做一个分段放缩(参考[[分段估计的想法]])，因为我们观察到$R_{N,M}$的括号里面除了前三项以外后面的项目对整体的和的贡献是非常小的，并且分母上这种连续的乘法的结构恰好可以做逐项放缩，从而产生telescoping sum，得到一个很好计算的上界的和。于是$$\begin{aligned}R_{N,M}&=\frac{1}{(N+1)!}\left(1+\frac{1}{N+2}+\frac{1}{(N+2)(N+3)}+\cdots +\frac{1}{M\cdots(N+2)}\right)\\&\leq \frac{1}{(N+1)!}\left(1+\frac{1}{N+2}+\frac{1}{(N+2)(N+3)}+\cdots +\frac{1}{M(M-1)}\right)\\&=\frac{1}{(N+1)!}\left(1+\frac{1}{N+2}+\frac{1}{N+2}-\frac{1}{M}\right)\end{aligned}$$然后对$M$取极限，我们不难得到$$R_N\leq \frac{2}{(N+1)!}<\frac{2}{N!N}$$于是我们知道记作$$R_N = \Theta\left(\frac{1}{N!N}\right)$$
#### 2.2 $R_N'$的上界与下界

参照命题7的解决方案，我们不难得到:

> [!命题9(练习4)]
> $$R_N':=\sum_{n>N}\frac{1}{(n+1)(n+2)(n+2)!}$$那么对于足够大的$N$由$$R_N' = \Theta\left(\frac{1}{N!N^5}\right)$$

由此结果我们很容易看出来，选择计算$T_N$，显然要比计算$S_N$更快收敛到$e$。





















