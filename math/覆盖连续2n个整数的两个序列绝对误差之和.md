---
tags:
  - math
  - 组合学
---

> [!问题1]
> $n$为任意正整数，令$a_1<\cdots<a_n,b_1>\cdots>b_n$并且$$\{a_1,...,a_n,b_1,...,b_n\}=\{1,\cdots,2n\}$$证明$$\sum_{i=1}^n|a_i-b_i|=n^2$$

### 1. 一个小技巧

首先我们可以尝试使用$$|x-y|=x+y-2\min\{x,y\}$$来把绝对值拆开，一般在一个涉及到处理和的问题当中对被求和对象如此操作，我们往往可以去除问题中不重要的部分，集中精力对付整个问题中关键的部分。

在这个问题当中，因为$\sum_{i=1}^{n}(a_i+b_i)$是不重要的，因为两个序列组成的集合的并是1到2n当中全部的整数，因此$$\sum_{i=1}^{n}(a_i+b_i)=n(2n+1)$$于是我们真正要证明的是:

> [!问题2]
> $n$为任意正整数，令$a_1<\cdots<a_n,b_1>\cdots>b_n$并且$$\{a_1,...,a_n,b_1,...,b_n\}=\{1,\cdots,2n\}$$证明$$\sum_{i=1}^{n}\min\{a_i,b_i\}=\frac{n(n+1)}{2}$$

### 2. 通过计算机提出猜想

接下来我们可以借助计算机的算力来帮助我们得到一些随机的例子，以辅助我们完成"先猜再证"。

```wolfram
GenerateLists[n_] := 
 Module[{nums, firstList, secondList},
 (*Step 1: 生成从1到2n的整数的一个列表*)
 nums = Range[1, 2 n];
  (*Step 2:从列表当中随便选取n个数，并排序*)
  firstList = Sort[RandomSample[nums, n]];
  (*Step 3:给剩下的n个数做相反的排序得到另一个序列*)
  secondList = Sort[Complement[nums, firstList], Greater];
  (*Step 4:最后输出两个列表*)
  {firstList, secondList}]
```

首先我们可以替换n，多次重复下面的代码:
```wolfram
n = 18;
{a, b} = GenerateLists[n];
Table[Min[{a[[i]], b[[i]]}], {i, 1, n}] // Sort
```
我们发现$\min\{a_i,b_i\}$这个序列能取遍从$\{1,...,n\}$当中的每个数。借助下面的代码
```wolfram
n = 18;
{a, b} = GenerateLists[n];
Table[{a[[i]], b[[i]]}, {i, 1, n}]
```
我们提出一个猜想:

> [!猜想1]
> $n$为任意正整数，令$a_1<\cdots<a_n,b_1>\cdots>b_n$并且$$\{a_1,...,a_n,b_1,...,b_n\}=\{1,\cdots,2n\}$$令$c_i:=\min\{a_i,b_i\}$那么$$\max\{c_1,...,c_n\}= n$$对任意$1\leq i\leq n$成立。

由条件我们知道，$c_i$之间是彼此不同的正整数，因为如果$c_i=c_j$那么要么$a_i=b_j,a_i=a_j,b_i=b_j$，而任何一种情况都是不可能的，因此如果猜想1成立，那么$c_i$就取遍1到n当中每一个整数，于是问题2一定成立，那么问题1就得到了证明。

进一步的观察告诉我们:

> [!猜想2]
> $n$为任意正整数，令$a_1<\cdots<a_n,b_1>\cdots>b_n$并且$$\{a_1,...,a_n,b_1,...,b_n\}=\{1,\cdots,2n\}$$假设$A:=[1,n]\cap \mathbb{Z},B:=[n+1,2n]\cap \mathbb{Z}$，那么不存在某个正整数$j$,使得$a_j,b_j$同时属于集合$A$或者集合$B$。

换言之，猜想2就是说，任何一对$(a_i,b_i)$的数对，必然其中一个属于集合$A$，另一个属于集合$B$。如果猜想2是成立的，那么猜想1自然成立，因为任意的一对$(a_i,b_i)$其最小值肯定是集合$A$当中的元素，于是最大值一定是$A$。


### 3. 利用数学工具证明猜想

> [!引理1]
> $n$为任意正整数，令$a_1<\cdots<a_n,b_1>\cdots>b_n$并且$$\{a_1,...,a_n,b_1,...,b_n\}=\{1,\cdots,2n\}$$假设$A:=[1,n]\cap \mathbb{Z},B:=[n+1,2n]\cap \mathbb{Z}$，那么不存在某个正整数$j$,使得$a_j,b_j$同时属于集合$A$或者集合$B$。

我们采用反证法来证明引理1。

假设存在一组$a_j,b_j$使得$a_j,b_j\in A$，那么由于序列的严格单调性：
1. $a_1,...,a_j\in A$这是序列$\{a_i\}$的严格单调递增性决定的。
2. $b_n,...,b_j\in A$这是$\{b_i\}$的严格单调减少性决定的。
于是现在在集合$A$里面一共有$j+n+1-j=n+1$个不同的正整数，但是集合$A$当中一共有$n$个不同的正整数，因此矛盾。

同样的道理我们也可以证明不可能存在$a_j,b_j$同时属于集合$B$。于是引理1得到了证明（这其实就是上一节当中的猜想2）。

引理1的一个推论是：令$c_i:=\min\{a_i,b_i\}$那么$$\max\{c_1,...,c_n\}= n$$对任意$1\leq i\leq n$成立（猜想1）。

因此我们可以知道$$\sum_{i=1}^{n}c_i=\frac{n(n+1)}{2}$$于是我们证明了问题2。结合第一节的分析，问题2的结果可以得到问题1，于是$$\sum_{i=1}^n|a_i-b_i|=n^2$$

