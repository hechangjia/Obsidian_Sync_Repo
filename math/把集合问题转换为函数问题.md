---
tags:
  - math
  - tool_idea
---

> [!核心想法]
> 如果一个问题种涉及集合$A\subset X$,那么可以尝试把集合$A$的问题转换为$X$上定义的特征函数$1_A(x)$的问题，然后使用分析函数的工具得到$1_A$的性质，最后把这种性质转换回$A$的性质。通常而言，处理后者的工具会更多，我们也更好入手。

### 1. 集合的特征函数

> [!集合的特征函数]
> 1. $A\cap B$的特征函数$$1_{A\cap B}(x)=1_A(x)1_B(x)$$
> 2. $A\cup B$的特征函数$$1_{A\cup B}(x)=1_A(x)+1_B(x)-1_A(x)1_B(x)$$
> 3. $A^c$的特征函数$$1_{A^c}(x)=1-1_A(x)$$
> 4. $A\setminus B$的特征函数$$1_{A\setminus B}(x)=1_A(x)(1-1_B(x))$$这是因为我们可以把$A\setminus B$表示为$A\cap B^c$那么用交集的特征函数就能推导出来上面的关系。
> 5. $A\triangle B$的特征函数$$1_{A\triangle B}(x)=1_A(x)+1_B(x)-2\cdot 1_A(x)1_B(x)$$因为其中$A\triangle B=(A\setminus B)\cup (B\setminus A)$然后我们可以用$A\setminus B$的特征函数的规律推导出此结果。
> 6. $A+B$定义为$$A+B:=\{x+y:x\in A,y\in B\}$$该集合与特征函数$1_A,1_B$的关系为$$\text{supp}(1_A*1_B)\subseteq \overline{A+B}$$这是函数卷积的基本性质，具体可以参考[[函数卷积的基本性质]]当中的性质1.4。

> [!集合的测度与特征函数的关系]
> 此外集合的测度也可以视为特征函数的积分。例如在测度空间$(X,\mathcal{F},\mu)$上的一个集合$A\in \mathcal{F}$,我们可以把研究集合$A$的测度$\mu(A)$转变为研究特征函数的积分，即$$\mu(A)=\int_{X} 1_A(x)\,d\mu(x)$$
> 1. 如果集合$A$是一个有限集合，此时测度空间可以考虑为一个计数测度。从而变成$$|A|=\sum_{n \in A} 1_A(n)$$此时问题变成研究序列$1_A(n)$的和的问题。
> 2. 如果有一列元素$A_n \in \mathcal{F}$,我们需要考虑其测度的和$\sum_{n\leq N}\mu(A_n)$那么我们可以考虑构造函数$f(x):=\sum_{n\leq N}1_{A_n}(x)$，从而$$\sum_{n\leq N}\mu(A_n)=\int_X f(x)\,d\mu(x)$$因此现在目标就是搞清楚$f(x)$及其积分。

典型的例子:
1. [[Steinhaus定理及其推广]]当中我们需要处理关于Lebesgue可测集合$E\subset \mathbb{R}^d$形成的集合$E-E$的拓扑性质：该集合当中包含一个关于$0$的开邻域(欧氏拓扑下)。而我们的策略就是先对集合进行截断得到有限测度的集合$E'$，然后把研究$E'-E'$这个集合的行为转换为研究函数$$f_E'(x):=1_{E'}*1_{-E'}(x)$$而这是比较显然的，因为$1_{E'},1_{-E'}$都是$L^2$的，于是卷积是$C_0$的，且一致连续的。于是乎，我们可以利用连续函数的性质来得到结果。从这一点来说，把集合问题转换为函数问题确实是一个不错的想法，因为这样处理问题的工具就多很多了。
2. [[满足特定条件的两个集合尺寸的比例]]在这个问题当中，我们处理关于整数集的有限子集的性质。我们通过分析已经知道$$A\cup B=(A-a)\cup (B+b)$$并且左右两边都是不交的并。而我们的思路则是把问题转换为特征函数的方程$$\begin{aligned}1_A(x)+1_B(x)&=1_{A-a}(x)+1_{B-b}(x)\\&= 1_A(x+a)+1_B(x-b)\end{aligned}$$于是问题就非常适合用$\mathbb{Z}$上的傅里叶变换来进行处理。因为这个函数方程当中具有一定的平移不变性，参考[[傅里叶变换与傅里叶展开]]。从该问题也能看出来，一旦问题转换为函数以后，处理的手段的确变得多了起来。
3. [[Borel-Cantelli lemma及其应用]]当中的2.2节，我们需要处理概率空间中的一系列满足下面条件的可测集合$$\sum_{i,j\leq N}P(A_i \cap A_j)\leq C \left(\sum_{i\leq N}P(A_i)\right)^2$$以及$$\sum_{n\geq 1}P(A_n)=\infty$$为了求得集合上确界的概率测度的下界估计$$P(\limsup_{n\to\infty}A_n)\geq \frac{1}{C}$$因为需要考虑sigma代数中的序列$A_n$测度的和，于是构造函数$$G_{T,Q}(x):=\sum_{n=T}^{Q} 1_{A_n}(x)$$如此一来它的期望就是这些集合的概率测度之和，而平方的期望则是交集的测度和。这样该函数就算是沟通了问题当中给的两个条件，而且求集合测度的下界估计，也被转换为了积分不等式的下界估计。
4. [[Cauchy-Davenport及其证明]]为了证明得到$A+B$这个集合大小的下界的估计，我们考虑将其转换为两个函数的卷积$\text{supp}(f*g)$的尺寸的估计。因为问题发生在群$\mathbb{Z}/p\mathbb{Z}$上进行的，我们可以借助于此群上函数的不确定性原理，把问题转换为更好处理的函数的傅里叶变换后的支集的问题，即$|\text{supp}(\widehat{f*g})|$然后再利用傅里叶变换的基本性质，把问题转换为$|\text{supp}(\widehat{f})\cap \text{supp}(\widehat{g})|$。最后经过一些不太困难的逻辑，最终证明Cauchy-Davenport定理。
5. [[把集合的概率测度转换为随机变量的例子]]此问题中，我们把事件的测度的不等式转换为了其特征函数的积分的不等式之后问题的处理手段就变得多样起来了。
6. [[利用交换和与积分次序算涉及整数格点数目的一个积分]]中我们把$N(x,y):=\#\{(a,b)\in \mathbb{Z}^2:a^2+b^2\leq x^2+y^2\}$这样一个有限集合的大小的函数转换为了其特征函数的积分（离散测度的积分，实际上是和）。从而可以通过[[和以及积分换序]]中的方法简化积分$$I=\int_{\mathbb{R}}\int_{\mathbb{R}}N(x,y)e^{-x^2-y^2}\,dx\,dy$$