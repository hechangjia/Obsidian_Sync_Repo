---
tags:
  - math
  - 实分析
---

> [!问题]
> 证明不存在一个$f:[a,b]\to \mathbb{R}$的连续函数,满足:
> 1. 把$[a,b]$当中的有理数映射为无理数。
> 2. 把$[a,b]$当中的无理数映射为有理数。

想法来自于这样一个例子，

> [!考虑一个例子]
> 是否存在一个$g:[0,1]\to [0,1]$的连续满射，满足问题当中的性质?

令$A = \{x \in [0,1]:x\not \in \mathbb{Q}\}$，也就是$[0,1]$当中的全部无理数。那么因为$g$是满射，因此任意$y\in A$都存在一个$x\in[0,1]$使得$f(x)=y$,同时因为$g$会把所有$[0,1]$当中的有理数映射到无理数，而无理数映射到有理数，因此$x \in \mathbb{Q}\cap [0,1]$.这意味着$$\forall y \in A \implies y\in g(\mathbb{Q}\cap [0,1])$$
也就是说$A\subseteq g(\mathbb{Q}\cap [0,1])$.那么从集合的势(cardinality)的角度考虑的话，$$|A| \leq |g(\mathbb{Q}\cap [0,1])| \leq |\mathbb{Q}\cap [0,1]|$$(注意这里$|\cdot|$表示集合的基数，不等号表示基数之间的偏序关系)
(最右边的不等式成立是因为映射不能一对多)
但是这是不对的，因为$A$不可数，而$\mathbb{Q}\cap [0,1]$作为有理数的子集是可数集合，不可数集合的势严格大于任何可数集合。

因此并不存在这样的映射。

---
根据上面问题的启发，我们想到如果$f$是连续函数，那么假设$f$在闭区间$[a,b]$上的最大值为$M$，最小值为$m$.那么连续函数$f$实际上是$[a,b]\to [m,M]$之间的满射(介值定理)。于是按照上面这个例子的精神，实际上这件事并不可能。因为如果存在这样的函数一定会导致(令$B = \{x \in [m,M]:x\not \in \mathbb{Q}\}$) $$|B| \leq |f(\mathbb{Q}\cap [a,b])| \leq |\mathbb{Q}\cap [a,b]|$$
最左边是不可数集，而最右边是可数集，矛盾。

---

其核心使用了$$|f(B)|\leq |B|$$的这种[[映射像与原像的势的不等式]]，$[m,M]$作为函数$f$的值域，其中所有无理数的集合$B$的原像$f^{-1}(B)$必然不可数。然而，映射要求只能把有理数映射到无理数，因此此原像必然是可数的，矛盾。








