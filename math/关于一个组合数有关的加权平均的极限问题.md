---
tags:
  - math
---

> [!命题1]
> 假设序列$x_n\to x$,那么$$\frac{\binom{n}{0}x_0+\cdots+\binom{n}{n}x_n}{2^n}\to x$$

### 1. 从分段估计上来理解

#### 1.1 作为Toepliz定理的特例
令问题中$a_{nk}:=\frac{\binom{n}{k}}{2^n}$，那么这种双重序列有这样的性质:
1. 关于$k$的和为1，即:$$\sum_{k=0}^na_{nk}=1$$这本质上就是组合数的求和。
2. 当$k$固定的时候，$$\lim_{n\to \infty}a_{nk}=0$$按照组合数的简单估计，我们很容易得到结论$\binom{n}{k}\leq \frac{n^k}{k!}$
因此我们可以直接使用[[Silverman–Toeplitz定理]]的结果直接得到最终的结果。也可以直接去做，这样的话相当于重新用分段估计证明一次[[Silverman–Toeplitz定理]]。

#### 1.2 为何整体估计精度不高?

第一步还是一样的，我们加强命题，最后需要估计$S_n:=\sum_{k=0}^{n}\frac{\binom{n}{k}}{2^n}|x_k-x|$如果我们把这个当成一个内积来看待，然后想要整体去估计它，而不是分段去估计，会发生什么呢？

比如我们这里选用一个常用的，柯西不等式，则我们会把结果放大为$$\begin{aligned}S_n&\leq \left(\sum_{k=0}^{n}\frac{\binom{n}{k}^2}{2^{2n}}\right)\left(\sum_{k=0}^n|x_k-x|^2\right)\\ &=\frac{\binom{2n}{n}}{2^{2n}}\left(\sum_{k=0}^n|x_k-x|^2\right) \end{aligned}$$其中斯特林公式告诉我们，$\frac{\binom{2n}{n}}{2^{2n}}\asymp \frac{1}{\sqrt{n}}$,也就是说我们必须要对$\sum_{k=0}^n|x_k-x|^2$至少精度为$o(\sqrt{n})$的估计才能达到我们期望的结果。通常的结论，比如关于$\sum_{k=0}^n|x_k-x|^2$的算数平均值收敛到0的结果，只能告诉我们$\sum_{k=0}^n|x_k-x|^2=o(n)$,这是远远不够的。其次下面这样的反例能直接大小我们当前的整体估计的想法：

> [!上述思路的反例]
> 令$x_k=x+\frac{1}{k^{1/4}}$,显然$x_k\to x$。现在我们考察$|x_k-x|^2=\frac{1}{k^{1/2}}$的前n项和。依照[[自然数的r次幂的部分和估计]]当中的结果，我们可以知道此时$$\sum_{k=1}^n|x_k-x|^2=\zeta(1/2)+\frac{1}{2}\sqrt{n}+O(1/\sqrt{n})$$因此这个和绝不可能是$o(\sqrt{n})$的。

究其根本还是在于，整体的估计误差太大了。


#### 1.3 Stolz公式为何难做?
虽然我们的确可以把式子看成是$\frac{a_n}{b_n}$的形式，并且符合$*/\infty$的形式，分母是单调趋于正无穷的序列。因此似乎我们有充分的动机去思考$$\frac{a_{n+1}-a_n}{b_{n+1}-b_n}$$的极限是否存在以及是否为$x$。但是这样做的动机还有一条，那就是差分$a_{n+1}-a_{n}$要比$a_n$要来的简单一些，否则我们干嘛不继续保持原状去考虑$\frac{a_n}{b_n}$呢？

通常来说如果$a_n$是一个形如$\sum_{k=a}^n f(k)$的形式，那么其差分无非就是$f(n+1)$，因此如果$f(n+1)$比较简单的话，Stolz是一个非常好的选择。然而如果$a_n$是一个形如$$\sum_{k=a}^ng(n,k)$$的形式，即每一个被求和对象本身也包含$n$,那么其差分的形式为$$\sum_{k=a}^n\left(g(n+1,k)-g(n,k)\right)+g(n+1,n+1)$$而这个形式的和通常并不会比原来的和简单多少，所以如此考虑Stolz是吃力不讨好的行为。恰好本题目中的$\sum_{k=0}^{n}\frac{\binom{n}{k}}{2^n}(x_k-x)$恰好就是这样的一种形式，其他的比如说[[对误差的分析从而改进分段估计]]中的$\sum_{k=1}^{n}n^{1/k}$也是属于这类对象。