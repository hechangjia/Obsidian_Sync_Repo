---
tags:
  - math
  - 微积分
---

> [!问题]
> 求极限:$$\lim_{n\to\infty}\frac{n+n^{1/2}+...+n^{1/n}}{n}$$

### 1.分段放缩策略的分析
 
 [[分段估计的想法]]具体而言可以按照如下理解,这种简单放缩的本质是我们把$$[1,n]=\bigcup_iI_i$$做有限的划分，然后把求和改写为$$\sum_{i}\sum_{k\in I_i}f_n(k)$$然后我们在每一段上做估计，$$L_i\leq\sum_{k\in I_i}f_n(k)\leq U_i$$然后我们求和得到关于目标的和的上界和下界的估计$$U(n)=\sum_iU_i,L(n)=\sum_iL_i$$这其中关键的思考是，我们的这种分解方式给出的误差是否符合要求？我们可以做一个粗略的预判,即$$O\left(\sum_i|U_i-L_i|\right)$$也就是说，整体的放缩精度受到两个因素的影响。
 * 每一段的具体形式
 * 每一段内放缩的精度。不过最后别忘了，$\sum_{k\in I_i}f_n(k)$除了精度要合适，最后的和的形式也得简单，否则有可能方案精度很高，但是最后的和比原来更复杂。

 1.  此问题的精度是确定的，如果极限存在那么要求出这个极限就需要对于和$$S_n=\sum_{k=1}^{n}n^{1/k}$$做精度达到$o\left(n\right)$的估计，因为我们需要搞清楚渐进展开当中n这一项的系数。
 2.  对于固定的$n$,被求和对象$f_n(k):=n^{1/k}$是具有单调性的，因此分段估计的话可以利用单调性找到上界和下界。
 3.  **尝试最简单的估计**:把$[1,n]=\bigcup_{i=1}^{n}[i,i+1)$，然后每一段上其实就只有一个值，而这个值用非常粗略的方式估计，$$n^{1/n}\leq n^{1/i}\leq n$$我们不要着急去给出最后的上界和下界，而是首先验证，这种估计的误差是否合乎要求?其误差的累计可以表示为$$\sum_{i=1}^{n}(n-n^{1/n})=O(n^2)$$显然误差过大。
 4.  **对利用单调性进行估计的改进1**：我们可以尝试把区间分为有限的几段，比如两段$I_1=[1,\varphi(n)],I_2=(\varphi(n),n]$于是求和就变成了$$\begin{aligned}S_n&=\sum_{k\in I_1}f_n(k)+\sum_{k\in I_2}f_n(k)\\&=\sum_{k\leq\varphi(n)}n^{1/k}+\sum_{n\geq k>\varphi(n)}n^{1/k}\end{aligned}$$然后我们依旧是用每一段的端点作为放缩的上界和下界，那么$$|U_1-L_1|=(n-n^{1/\varphi(n)})\varphi(n),|U_2-L_2|=(n^{1/n}-n^{1/\varphi(n)})(n-\varphi(n))$$同时考虑到，如果我们这里选择$\varphi(n)=\sqrt{n}$的话，于是$|U_2-L_2|=O(\sqrt{n}\log(n))$,这样的话第二段基本上是满足要求的。但是第一段却不行，因为$|U_1-L_1|=\Theta(n^{3/2})$.
 5.  **对利用单调性进行估计的改进2**: 在上一种方法的基础上，我们可以尝试着解决第一段误差过大的问题。这里采用的解决方法可以总结为"**把对误差贡献较大的部分单独划分新的一段"**。现在我们可以尝试把第一段再单独拆分为两段，即现在我们有三段:$$I_1=[1,m],I_2=(m,\varphi(n)],I_2=(\varphi(n),n]$$这样划分的话，第一段直接不放缩，原封不动因此必定满足精度的需求。第三段原本就满足需求，现在更加满足需求。问题就是第二段的误差是否被改进了？如果$m=1$：此时第二段误差为$\Theta(n)$，因此依旧是不满足需求的,但好在却是相较于之前有所改进.如果$m=2$：此时二段误差为$$(n^{1/3}-n^{1/\sqrt{n}})(\sqrt{n}-2)=\Theta(n^{5/6})=o(n)$$，现在满足了要求。那么也就意味着这个方案应该是可行的方案。把它写的具体就是,$$\begin{aligned}S_n&=\sum_{k\in I_1}f_n(k)+\sum_{k\in I_2}f_n(k)+\sum_{k\in I_3}f_n(k)\\&=\sum_{1\leq k\leq2}n^{1/k}+\sum_{3\leq k\leq\lfloor\sqrt{n}\rfloor}n^{1/k}+\sum_{n\geq k>\lfloor\sqrt{n}\rfloor}n^{1/k}\\&\end{aligned}$$于是做放缩的话会发现$$S_n<n+\sqrt{n}+(\lfloor\sqrt{n}\rfloor-2)n^{1/3}+(n-\lfloor\sqrt{n}\rfloor)n^{1/\sqrt{n}}$$以及$$S_n>n+\sqrt{n}+(\lfloor\sqrt{n}\rfloor-2)n^{1/\sqrt{n}}+(n-\lfloor\sqrt{n}\rfloor)n^{1/n}$$所以上面的式子至少可以确认出，n这一项的渐近系数是1.
 6.  **对利用单调性进行估计的改进3**:那么如果$\varphi(n)\neq\sqrt{n}$呢？在$\varphi(n)$单调的基础上，如果$\varphi(n)$增长得越慢比$\sqrt{n}$更慢会如何？如果我们把误差比喻为面积，也就是长度乘以宽度$$\text{Error}=O(\text{base}\times\text{height})$$那么如果$\varphi(n)$更小，那么保持同一个级别的误差的要求下，可以适当放松对height，以及base的要求。这里的base按照改进2的说法$I_1=[1,m],I_2=(m,\varphi(n)],I_2=(\varphi(n),n]$，就是$\varphi(n)-m$，而height自然是$n^{1/m}-n^{1/\varphi(m)}$.也就是说我们可以降低对$m$的要求。$\varphi(n)=n^{1/3},m=1$是可以满足要求的。那么反过来如果$\varphi(n)$增长得更快呢？比如说，$\varphi(n)=n^{2/3}$那么需要$m=4$才能符合要求。

### 2. Dyadic估计

对于分子这个含参数的函数的求和$\sum_{1\leq k\leq n}f_n(k)$,当我们把$n$固定下来的时候，$f_n(k)$是一个从n下降到1的单调减少的函数，这样的求和显然可以适用于[[Dyadic分解]].于是$$\begin{aligned}S_n&=\sum_{m=0}^{M_n-1}\sum_{2^m\leq k<2^{m+1}}f_n(k)+\sum_{k=2^{M_n}}^n f_n(k)\\ &= \sum_{m=0}^{M_n-1}\sum_{2^m\leq k<2^{m+1}}f_n(k)+ O(1)\end{aligned}$$
其中$M_n = \lfloor \log_2(n)\rfloor$.

然后对每一段做上界与下界估计。对于该问题，Dyadic分解能向我们说明为何之前的有限分段估计会找到$n^{1/2}$作为分界线，因为这恰好是$m=1$的情况。也就是说，如果我们没有更好的办法估计每一段$\sum_{2^m\leq k<2^{m+1}}f_n(k)$,那么在取前几段以后然后对最后的部分做最粗略的估计，那么整个分段的情况类似于上面有限的分段。



