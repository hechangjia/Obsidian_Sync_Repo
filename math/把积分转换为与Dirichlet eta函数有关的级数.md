---
tags:
  - math
  - 微积分
---

> [!问题]
> 求$$\int_{0}^{\infty}\frac{1}{1+e^{x^2}}\,dx$$的closed form的表达。

### 1. 把积分问题变成级数问题

根据[[将积分转换为级数]]的想法，我们想要把这个积分转换为一个已知的级数来进行处理。然而关于被积分的函数$\frac{1}{1+e^{x^2}}$并不能直接利用关于基本初等函数的在局部的Taylor展开来将其转换为级数。此时的一个思路是类似于[[把积分转换为级数求积分]]当中的问题类似，我们通过换元法来把积分换成等价的形式，然后再展开。不过此处其实并不需要如此麻烦，只需要分母提出一个$e^{x^2}$来整个问题就可以找到展开：$$\frac{1}{e^{x^2}(1+e^{-x^2})}=\sum_{k\geq 0} (-1)^ke^{-(k+1)x^2}$$于是接下来我们可以交换求和与积分的次序，从而得到$$\begin{aligned}\int_{\mathbb{R}}\sum_{k\geq 0} (-1)^ke^{-(k+1)x^2}1_{x>0}\,dx&= \sum_{k\geq 0}\int_{\mathbb{R}} (-1)^ke^{-(k+1)x^2}1_{x>0}\,dx\\&= \sum_{k\geq 0}\frac{(-1)^k\sqrt{\pi}}{2\sqrt{k+1}}\\&=\frac{1-\sqrt{2}}{2}\sqrt{\pi}\zeta(1/2) \end{aligned}$$
中间的级数涉及一个已知的特殊函数的结果，称之为Dirichlet eta函数：$$\eta(s):=(1-2^{1-s})\zeta(s)$$对于$\text{Re}(s)>0$而言，它有一个级数表达$$\eta(s)=\sum_{k\geq 1}\frac{(-1)^{k-1}}{k^{s}}$$因此本问题当中带入$s=1/2$就可以得到上面的结果。最后一个问题是，这种交换是可行的吗？
### 2. 是否可以交换次序的问题

我们想要讨论的和与积分交换问题是$$\int_{\mathbb{R}}\sum_{k\geq 0} (-1)^ke^{-(k+1)x^2}1_{x>0}\,dx$$我们现在来关注被求和的对象$(-1)^ke^{-(k+1)x^2}1_{x>0}$,去掉$(-1)^k$在$x>0$的条件下就是$(e^{-x^2})^{k+1}$因为$|e^{-x^2}|<1$因此这实际上是等比数列(对于固定的x)。这就表明这个级数实际上时候绝对收敛的，这意味着:
1. **证明可交换性的思路a:控制收敛**
想要达成控制收敛，我们需要给级数的部分和$$S_n(x):=\sum_{n\geq k\geq 0} (-1)^ke^{-(k+1)x^2}1_{x>0}$$找到一个几乎处处可积的函数作为上界。因为其绝对收敛并且绝对值的级数是几何级数，于是它绝对值的和就可以充当这个上界。这种操作也可以算作是某种逐项放缩的办法。
$$|S_n(x)|\leq \sum_{k\geq 1}(e^{-x^2})^k1_{x>0}=\frac{e^{-x^2}}{1-e^{-x^2}}1_{x>0}$$这显然是可积的。
2. **证明可交换性的思路b：Fubini/Tonelli**
这里外层的积分是测度空间$(\mathbb{R},\mathcal{L},m)$，里面的求和是视为自然数集合上建立起来的counting measure形成的测度空间上的积分。于是问题就变成了积分交换的问题，而因为里面的和或者称之为"积分"是绝对收敛的，也就是在counting measure的意义上是可积的，于是Fubini定理向我们保证这是可以交换的。

不过要注意参考[[和以及积分换序]]当中2里面的例子2提到的现象，通常而言控制收敛定理要求的条件要更好达到一些，因为有时候和并非绝对收敛，不过依旧是可以交换的，即Fubini/Tonelli定理不能达成，但是控制收敛定理可以达成。